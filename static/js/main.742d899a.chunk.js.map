{"version":3,"sources":["AppCamera.js","AppButton.js","AppImage.js","App.js","index.js"],"names":["AppCamera","_ref","onTakePhoto","react_default","a","createElement","build_default","AppButton","title","onClick","AppImage","src","width","alt","App","state","firstPhoto","secondPhoto","thirdPhoto","timestamp","sendToS3","data","name","axios","post","process","photo","headers","Referrer-Policy","then","r","catch","e","console","error","dataUri","_this$state","_this","takePhotoBtn","document","getElementById","takePhoto","setTimeout","click","setState","concat","ts","Date","now","openInNewTab","window","open","write","_this$state2","this","className","style","backgroundColor","src_AppCamera","onCameraStart","marginRight","src_AppImage","src_AppButton","Component","ReactDOM","render","src_App"],"mappings":"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","file":"static/js/main.742d899a.chunk.js","sourcesContent":["import React from \"react\";\nimport Camera from \"react-html5-camera-photo\";\nimport \"react-html5-camera-photo/build/css/index.css\";\n\nconst AppCamera = ({ onTakePhoto }) => <Camera onTakePhoto={onTakePhoto} />;\n\nexport default AppCamera;\n","import React from \"react\";\n\nconst AppButton = ({ title, onClick }) => (\n  <button onClick={onClick}>{title}</button>\n);\n\nexport default AppButton;\n","import React from \"react\";\n\nconst AppImage = ({ src }) => <img src={src} width=\"250px\" alt=\"\" />;\n\nexport default AppImage;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\n\nimport AppCamera from \"./AppCamera\";\nimport AppButton from \"./AppButton\";\nimport AppImage from \"./AppImage\";\n\nclass App extends Component {\n  state = {\n    firstPhoto: \"\",\n    secondPhoto: \"\",\n    thirdPhoto: \"\",\n    timestamp: \"\"\n  };\n\n  sendToS3 = (data, name) => {\n    axios\n      .post(\n        process.env.REACT_APP_BE_PATH_TO_UPLOAD,\n        {\n          photo: data,\n          name\n        },\n        {\n          headers: {\n            \"Referrer-Policy\": \"unsafe-url\"\n          }\n        }\n      )\n      .then(r => r)\n      .catch(e => console.error(\"UPLOAD ERROR => \", e));\n  };\n\n  onTakePhoto = dataUri => {\n    const { firstPhoto, secondPhoto, timestamp } = this.state;\n    const takePhotoBtn = document.getElementById(\"outer-circle\");\n\n    const takePhoto = () =>\n      setTimeout(() => takePhotoBtn && takePhotoBtn.click(), 300);\n\n    if (!firstPhoto) {\n      const ts = Date.now();\n      this.setState({ firstPhoto: dataUri, timestamp: ts });\n      this.sendToS3(dataUri, `normal_${ts}`);\n      takePhoto();\n    } else if (!secondPhoto) {\n      this.setState({ secondPhoto: dataUri });\n      this.sendToS3(dataUri, `white_${timestamp}`);\n      takePhoto();\n    } else {\n      this.setState({ thirdPhoto: dataUri });\n      this.sendToS3(dataUri, `black_${timestamp}`);\n    }\n  };\n\n  openInNewTab = data => () => {\n    const newWindow = window.open();\n    newWindow.document.write(`<img src=\"${data}\" width=\"100%\">`);\n  };\n\n  render() {\n    const { firstPhoto, secondPhoto, thirdPhoto, timestamp } = this.state;\n\n    return (\n      <div\n        className=\"app\"\n        style={{ backgroundColor: secondPhoto ? \"#000\" : \"#fff\" }}\n      >\n        {firstPhoto && !thirdPhoto && (\n          <div\n            className=\"overlay\"\n            style={{ backgroundColor: secondPhoto ? \"#000\" : \"#fff\" }}\n          />\n        )}\n        <h1 className=\"app-title\">Next Photo</h1>\n        {!thirdPhoto && (\n          <AppCamera\n            onTakePhoto={this.onTakePhoto}\n            onCameraStart={this.onCameraStart}\n          />\n        )}\n        {firstPhoto && !thirdPhoto && (\n          <p className=\"announcement\">Taking photo...</p>\n        )}\n        {thirdPhoto && (\n          <div className=\"images-wrapper\">\n            <div\n              className=\"images-wrapper__item\"\n              style={{ marginRight: \"15px\" }}\n            >\n              <AppImage src={firstPhoto} />\n              <AppButton\n                title={`normal_${timestamp}`}\n                onClick={this.openInNewTab(firstPhoto)}\n              />\n            </div>\n            <div\n              className=\"images-wrapper__item\"\n              style={{ marginRight: \"15px\" }}\n            >\n              <AppImage src={secondPhoto} />\n              <AppButton\n                title={`white_${timestamp}`}\n                onClick={this.openInNewTab(secondPhoto)}\n              />\n            </div>\n            <div className=\"images-wrapper__item\">\n              <AppImage src={thirdPhoto} />\n              <AppButton\n                title={`black_${timestamp}`}\n                onClick={this.openInNewTab(thirdPhoto)}\n              />\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}